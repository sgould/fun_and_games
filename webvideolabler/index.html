<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ANUCVML Video Annotation Tool</title>
    <script type="text/javascript" src="anuvidlib.js"></script>
    <script type="text/javascript">
        var v = null;

        function init() {
            v = new ANUVidLib("leftframe", "leftslider", "leftstatus", "rightframe", "rightslider", "rightstatus");

            var loadVideoFile = function(event) {
                var file = this.files[0];
                var fileURL = URL.createObjectURL(file);
                v.loadVideo(fileURL);
            }

            var input = document.querySelector('input');
            input.addEventListener('change', loadVideoFile, false);
        }
    </script>
</head>
<body onload="init();">
<h1>ANU CVML In-browser Video Annotation Tool</h1>
Copyright &copy; 2020, Stephen Gould<p/>

<input type="file" accept="video/*" />
<p/>

<!--
TODO:
X1. resize and redraw left and right canvas with window
X2. rounded rectangle boundary
3. left/right tracking
4. buffer video frames every second for faster scrolling
5. save configuration locally + configuration page/button
6. help page/video tutorial
7. annotation functionality
-->

<div id="container" style="width: 100%;">
    <div id="leftpanel" style="width: 45%; float: left;">
        <div style="width: 100%; height: 20px; background-image: url(filmstrip.png); background-repeat: repeat-x;"></div>
        <canvas id="leftframe" width="640px" height="480px" style="display: block;"></canvas>
        <div style="width: 100%; height: 20px; background-image: url(filmstrip.png); background-repeat: repeat-x;"></div>
        <br>
        <div style="width: 100%;">
            <input type="range" min="0" max="100" value="0" style="width: 100%;" id="leftslider" oninput="v.seekTo(this.value, -1)";>
            <br>
            <span style="float: right;" id="leftstatus">none</span>
        </div>
    </div>
    <div id="centerpanel" style="width: 10%; float: left; text-align: center; position: relative;">
        <b>Copy Annotations</b><br><p/>
        <button onclick="TODO" type="button" style="width: 50%;">&rarr;</button><p/>
        <button onclick="TODO" type="button" style="width: 50%;">&#8608;</button><p/>
        <br><p/>
        <button onclick="TODO" type="button" style="width: 50%;">&larr;</button><p/>
        <button onclick="TODO" type="button" style="width: 50%;">&#8606;</button><p/>
        <br><p/>
        <b>Tracking</b><br><p/>
        <input id="trackcb" type="checkbox">
        <label for="trackcb">Tie Sliders</label><br>
        <br><p/>
        <b>Appearance</b><br><p/>
        <input id="greycb" type="checkbox">
        <label for="greycb">Greyscale</label><br>
    </div>
    <div id="rightpanel" style="width: 45%; float:left;">
        <div style="width: 100%; height: 20px; background-image: url(filmstrip.png); background-repeat: repeat-x;"></div>
        <canvas id="rightframe" width="640px" height="480px" style="display: block;"></canvas>
        <div style="width: 100%; height: 20px; background-image: url(filmstrip.png); background-repeat: repeat-x;"></div>
        <br>
        <div style="width: 100%;">
            <input type="range" min="0" max="100" value="0" style="width: 100%;" id="rightslider" oninput="v.seekTo(-1, this.value)";>
            <br>
            <span style="float: right;" id="rightstatus">none</span>
        </div>
    </div>
    <div style="clear: both;"></div>
</div>

</body>
</html>